{%extends "base.html"%}
{%block title%}{{course.name}}{%endblock%}
{%block head%}
<script style="text/javascript" src="/static/js/tinybox.js"></script>
<link rel="stylesheet" href="/static/css/tinybox.css" />
<link rel="stylesheet" href="/static/css/jquery.ui.stars.min.css" />
<script type="text/javascript" src="/static/js/jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="/static/js/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.ui.stars.min.js"></script>
{%endblock%}
{%block content%}
<h2>{{course.name}}-{{course.courseID}}</h2>
<div class="well">
	课程描述：
	{{courseDescription.0.content}}
</div>
{%for teacher in teachers%}
<div class="well">
	<div class="row-fluid">
		<div class="span6">
			<p>姓名：{{teacher.name}}</p>
			<p>rank：{{teacher.rank}}</p>
			{%for cmt in teacher.comments%}
			<p>{{cmt.comment}}</p>
			<p>{{cmt.user.name}}</p>
			<p>{{cmt.datetime}}</p>
			{%endfor%}
		</div>
		<div class="span6">
			<form action="" method="post">
				<textarea name="comment"></textarea>
				<input name="teacher" type="hidden" value="{{teacher.name}}">
				<input class="btn" type="submit">
			</form>
		</div>
	</div>
</div>
{%endfor%}
  
<script style="text/javascript">
function voteIt(courseID,teacherName){
TINY.box.show({url:'/vote/'+courseID+'/'+encodeURIComponent(teacherName)+'/',fixed:false,openjs:function(){addStars()}});
}
</script>
<script style="text/javascript">
function addStars(){
	$("#teaching_stars_wrapper").stars({
		cancelShow:false,
		inputType:"select",
		captionEl: $("#teaching_stars_cap"),
		callback: function(ui, type, value){
			$("#teaching_skill").attr("value",value)
		}
	});
	$("#grades_stars_wrapper").stars({
		cancelShow:false,
		inputType:"select",
		captionEl: $("#grades_stars_cap"),
		callback: function(ui, type, value){
			$("#grades_level").attr("value",value)
		}
	});
}
{%if error%}
TINY.box.show({html:'{{error}}',animate:false,close:false,boxid:'error',top:5})
{%endif%}
</script>
{%endblock%}
